<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

    <mapper namespace="MallDAO">

        <resultMap type="mallToy" id="toy">
            <id property="toy_code" column="TOY_CODE" />
            <result property="toy_name" column="TOY_NAME" />
            <result property="toy_inStock" column="TOY_INSTOCK" />
            <result property="toy_price" column="TOY_PRICE" />
            <result property="toy_discount" column="TOY_DISCOUNT" />
            <result property="toy_stock" column="TOY_STOCK" />
            <result property="toy_point" column="TOY_POINT" />
            <result property="toy_info" column="TOY_INFO" />
            <result property="toy_img" column="TOY_IMG" />
        </resultMap>

    <resultMap type="mallFeed" id="feed">
        <id property="feed_code" column="FEED_CODE" />
        <result property="feed_name" column="FEED_NAME" />
        <result property="feed_inStock" column="FEED_INSTOCK" />
        <result property="feed_expiration" column="FEED_EXPIRATION" />
        <result property="feed_price" column="FEED_PRICE" />
        <result property="feed_discount" column="FEED_DISCOUNT" />
        <result property="feed_stock" column="FEED_STOCK" />
        <result property="feed_point" column="FEED_POINT" />
        <result property="feed_info" column="FEED_INFO" />
        <result property="feed_img" column="FEED_IMG" />
    </resultMap>

    <insert id="insertMallToy" parameterType="mallToy">
        INSERT INTO toy (toy_code, toy_name, toy_inStock, toy_price,
            toy_discount, toy_stock, toy_point, toy_info, toy_img)
        VALUES(toy_seq.nextval, #{toy_name}, sysdate, #{toy_price},
            #{toy_discount}, #{toy_stock}, #{toy_point}, #{toy_info}, #{toy_img})
    </insert>
    <delete id="deleteMallToy" parameterType="mallToy">
        DELETE FROM toy WHERE toy_code=#{toy_code}
    </delete>
    <select id="getMallToyList" resultType="mallToy">
        SELECT toy_code, toy_name, toy_discount, toy_img  FROM TOY ORDER BY toy_code DESC
    </select>

    <select id="getMallToyOne" resultType="mallToy" parameterType="mallToy">
        SELECT * from TOY WHERE toy_code=#{toy_code}
    </select>

    <update id="updateMallToy" parameterType="mallToy">
        UPDATE TOY set toy_name=#{toy_name}, TOY_PRICE=#{toy_price}, TOY_DISCOUNT=#{toy_discount}, TOY_STOCK=#{toy_stock}, TOY_POINT=#{toy_point}, TOY_INFO=#{toy_info}, TOY_IMG=#{toy_img}  where toy_code=#{toy_code}
    </update>

<!--    ////////////////////////////////////////////////////////////////////////    -->

    <insert id="insertMallFeed" parameterType="mallFeed">
        INSERT INTO feed (feed_code, feed_name, feed_expiration, feed_price,
            feed_discount, feed_stock, feed_point, feed_info, feed_img)
        VALUES(feed_seq.nextval, #{feed_name}, #{feed_expiration}, #{feed_price},
            #{feed_discount}, #{feed_stock}, #{feed_point}, #{feed_info}, #{feed_img})
    </insert>

    <select id="getMallFeedList" resultType="mallFeed">
        SELECT feed_code, feed_name, feed_discount, feed_img  FROM FEED ORDER BY feed_code DESC
    </select>
    </mapper>
