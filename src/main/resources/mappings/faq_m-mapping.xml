<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="FAQDAO_M">
	<insert id="insertFAQ" parameterType="faq_m">
	</insert>
	<delete id="deleteFAQ" parameterType="faq_m">
	</delete>
	<update id="updateFAQ" parameterType="faq_m">
	</update>
	<select id="selectCount" resultType="int">
		SELECT count(*) FROM FAQ
	</select>
	<select id="selectFAQ" resultType="faq_m" parameterType="faq_m">
	</select>
	<select id="selectListAllFAQ" resultType="faq_m"
		parameterType="faq_m">
		SELECT FAQ_NO, FAQ_ASK, FAQ_ANSWER, FAQ_USE, FAQ_CATEGORYNUM, CATEGORY_NAME, CATEGORY_USE 
		FROM FAQ ,CATEGORY
		WHERE FAQ.FAQ_CATEGORYNUM = CATEGORY.CATEGORY_NO
		AND CATEGORY_USE = 1 
		<choose>
			<when test="FAQ_CATEGORYNUM.equals(0)">
			</when>
			<otherwise>
				AND FAQ_CATEGORYNUM = #{FAQ_CATEGORYNUM}
			</otherwise>
		</choose>
		ORDER BY FAQ_USE DESC , FAQ_CATEGORYNUM ASC, FAQ_ASK ASC
	</select>
</mapper>

